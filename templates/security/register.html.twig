{% extends 'layout/base.html.twig' %}

{% form_theme form _self %}

{% block checkbox_widget -%}
    {# Этот блок здесь исключительно из-за невозможности вставить в label чекбокса ссылку #}
    <div class="form-group mt-3">
        <div class="custom-checkbox custom-control">
            <input type="checkbox"
                   name="user[termsAccepted]"
                   id="user_termsAccepted"
                   class="custom-control-input {% if errors|length > 0 -%}is-invalid{%- endif -%}"
                   {% if form.vars.checked -%}checked="checked"{% endif %}
            >
            <label for="user_termsAccepted" class="custom-control-label">
                {{ '%_i_agree_%'|trans }} <a href="{{ path('app_homepage') }}">{{ '%_terms_and_conditions_%'|trans }}</a>
            </label>
        </div>
        {%- if errors|length > 0 -%}
            <div id="{{ id }}_errors" class="mb-2">
                {{- form_errors(form) -}}
            </div>
        {%- endif -%}
    </div>
{%- endblock checkbox_widget %}

{% block title %}Register!{% endblock %}

{% block body %}
    <div class="row justify-content-center">
        <div class="card-wrapper">
            <div class="card">
                <div class="card-body">
                    <h4 class="card-title">{{ '%_register_%'|trans|capitalize }}</h4>

                    {{ form_start(form) }}

                    {{ form_label(form.name, '%_name_%'|trans|capitalize) }}
                    {{ form_widget(form.name) }}
                    {{ form_help(form.name) }}

                    {{ form_label(form.email, '%_email_%'|trans|capitalize) }}
                    {{ form_widget(form.email) }}
                    {{ form_help(form.email) }}

                    {{ form_label(form.plainPassword.first, '%_password_%'|trans|capitalize) }}
                    {{ form_widget(form.plainPassword.first) }}
                    {{ form_help(form.plainPassword.first) }}

                    {{ form_label(form.plainPassword.second, '%_repeat_password_%'|trans|capitalize) }}
                    {{ form_widget(form.plainPassword.second) }}
                    {{ form_help(form.plainPassword.second) }}

                    {{ form_widget(form.termsAccepted ) }}

                    <div class="form-group m-0">
                        <button type="submit" class="btn btn-primary btn-block" formnovalidate>
                            {{ '%_register_%'|trans|capitalize }}
                        </button>
                    </div>
                    <div class="mt-4 text-center">
                        {{ '%_already_have_account_%'|trans }} <a href="{{ path('app_login') }}">{{ '%_login_%'|trans|capitalize }}</a>
                    </div>

                    {{ form_end(form) }}

                </div>
            </div>
        </div>
    </div>

{% endblock %}
